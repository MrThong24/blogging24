"use strict";(self.webpackChunkreact_monkey_blogging_boilerplate=self.webpackChunkreact_monkey_blogging_boilerplate||[]).push([[376],{5031:function(n,e,r){r.d(e,{nO:function(){return s},yd:function(){return o},kl:function(){return i}});r(2791);var t=r(184),i=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})},o=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})},s=function(n){var e=n.onClick,r=void 0===e?function(){}:e;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},4167:function(n,e,r){r.d(e,{z:function(){return m}});var t,i,o,s,c,a=r(1413),d=r(4925),l=r(168),u=(r(2791),r(6031)),h=r(184),f=u.ZP.div(t||(t=(0,l.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){return n.size}),(function(n){return n.size}),(function(n){return n.borderSize}),(function(n){return n.borderSize}),(function(n){return n.borderSize})),x=function(n){var e=n.size,r=void 0===e?"40px":e,t=n.borderSize,i=void 0===t?"5px":t;return(0,h.jsx)(f,{size:r,borderSize:i})},p=r(3504),v=["type","onClick","children","kind"],g=u.ZP.button(i||(i=(0,l.Z)(["\n  cursor: pointer;\n  padding: 0 25px;\n  line-height: 1;\n  border-radius: 8px;\n  font-weight: 600;\n  font-size: 16px;\n  height: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  ",";\n  ",";\n  ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(n){return n.height||"66px"}),(function(n){return"secondary"===n.kind&&(0,u.iv)(o||(o=(0,l.Z)(["\n      color: ",";\n      background-color: white;\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"primary"===n.kind&&(0,u.iv)(s||(s=(0,l.Z)(["\n      color: white;\n      background-color: ",";\n    "])),(function(n){return n.theme.primary}))}),(function(n){return"ghost"===n.kind&&(0,u.iv)(c||(c=(0,l.Z)(["\n      color: ",";\n      background-color: rgba(29, 192, 113, 0.1);\n    "])),(function(n){return n.theme.primary}))})),m=function(n){var e=n.type,r=void 0===e?"button":e,t=n.onClick,i=void 0===t?function(){}:t,o=n.children,s=n.kind,c=void 0===s?"primary":s,l=(0,d.Z)(n,v),u=l.isLoading,f=l.to,m=u?(0,h.jsx)(x,{}):o;return""!==f&&"string"===typeof f?(0,h.jsx)(p.OL,{to:f,className:"inline-block",children:(0,h.jsx)(g,(0,a.Z)((0,a.Z)({type:r,kind:c},l),{},{children:m}))}):(0,h.jsx)(g,(0,a.Z)((0,a.Z)({type:r,kind:c,onClick:i},l),{},{children:m}))}},9501:function(n,e,r){r.d(e,{L:function(){return h}});var t=r(1413),i=r(4925),o=r(2791),s=r(9439),c=r(184),a=(0,o.createContext)();function d(n){var e=(0,o.useState)(!1),r=(0,s.Z)(e,2),t=r[0],i=r[1],d={show:t,setShow:i,toggle:function(){i(!t)}};return(0,c.jsx)(a.Provider,{value:d,children:n.children})}function l(){var n=(0,o.useContext)(a);if("undefined"===typeof n)throw new Error("useDropdown must be used within DropdownProvider");return n}var u=["children"],h=function(n){var e=n.children,r=(0,i.Z)(n,u);return(0,c.jsx)(d,(0,t.Z)((0,t.Z)({},r),{},{children:(0,c.jsx)("div",{className:"relative inline-block w-full",children:e})}))},f=function(n){var e=n.onClick,r=l().setShow;return(0,c.jsx)("div",{className:"py-4 px-5 cursor-pointer flex items-center justify-between hover:text-primary transition-all text-sm",onClick:function(){e&&e(),r(!1)},children:n.children})},x=["placeholder"],p=function(n){var e=n.placeholder,r=(0,i.Z)(n,x),o=l().onChange;return(0,c.jsx)("div",{className:"p-2",children:(0,c.jsx)("input",(0,t.Z)({type:"text",placeholder:e,className:"p-4 outline-none w-full border border-gray-200 rounded",onChange:o},r))})},v=function(n){var e=n.placeholder,r=void 0===e?"":e,t=n.className,i=void 0===t?"":t,o=l(),s=o.toggle,a=o.show;return(0,c.jsxs)("div",{className:"flex items-center justify-between py-4 px-5 bg-white border border-grayf1 rounded-lg cursor-pointer text-sm text-[#B2B3BD] ".concat(i),onClick:s,children:[(0,c.jsx)("span",{children:r}),(0,c.jsx)("span",{children:a?(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})},g=function(n){var e=n.children,r=l().show;return(0,c.jsx)(c.Fragment,{children:r&&(0,c.jsx)("div",{className:"absolute top-full left-0 w-full bg-white shadow-sm",children:e})})};h.Option=f,h.Search=p,h.Select=v,h.List=g},6848:function(n,e,r){r.d(e,{_:function(){return h},O:function(){return x}});var t,i,o=r(1413),s=r(4925),c=r(168),a=(r(2791),r(6031)),d=r(184),l=["htmlFor","children"],u=a.ZP.label(t||(t=(0,c.Z)(["\n  color: ",";\n  font-weight: 500;\n  font-size: 14px;\n  cursor: pointer;\n"])),(function(n){return n.theme.gray4b})),h=function(n){var e=n.htmlFor,r=void 0===e?"":e,t=n.children,i=(0,s.Z)(n,l);return(0,d.jsx)(u,(0,o.Z)((0,o.Z)({htmlFor:r},i),{},{children:t}))},f=a.ZP.span(i||(i=(0,c.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"]))),x=function(n){var e=n.children,r=n.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-green-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,d.jsx)(f,{className:t,children:e})}},1538:function(n,e,r){r.r(e);var t,i=r(168),o=(r(2791),r(6031)),s=r(184),c=o.ZP.div(t||(t=(0,i.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));e.default=function(n){var e=n.children;return(0,s.jsx)(c,{children:(0,s.jsx)("table",{children:e})})}},8791:function(n,e,r){r.d(e,{i:function(){return t}});var t=r(1538).default},8322:function(n,e,r){r(2791);var t=r(184);e.Z=function(n){var e=n.title,r=void 0===e?"":e,i=n.desc,o=void 0===i?"":i,s=n.children;return(0,t.jsxs)("div",{className:"mb-10 flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:o})]}),s]})}},7376:function(n,e,r){r.r(e);var t=r(3433),i=r(1413),o=r(5861),s=r(9439),c=r(7757),a=r.n(c),d=r(5031),l=r(4167),u=(r(9501),r(6848)),h=r(8791),f=r(9808),x=r(1199),p=r(9062),v=r(763),g=r(8322),m=r(2791),j=r(6871),w=r(1830),b=r.n(w),k=r(3585),y=r(184);e.default=function(){var n=(0,m.useState)([]),e=(0,s.Z)(n,2),r=e[0],c=e[1],w=(0,m.useState)(""),Z=(0,s.Z)(w,2),N=Z[0],C=Z[1],L=(0,m.useState)(),z=(0,s.Z)(L,2),S=z[0],P=z[1],D=(0,m.useState)(0),B=(0,s.Z)(D,2),O=B[0],A=B[1],E=(0,j.s0)(),M=(0,f.a)().userInfo;function I(){return I=(0,o.Z)(a().mark((function n(e){var r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(0,p.JU)(x.db,"posts",e),b().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var n=(0,o.Z)(a().mark((function n(e){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e.isConfirmed||(null===M||void 0===M?void 0:M.role)!==k.xZ.ADMIN){n.next=6;break}return n.next=3,(0,p.oe)(r);case 3:b().fire("Deleted!","Your post has been deleted.","success"),n.next=7;break;case 6:b().fire("Failed!","You have no right to delete post","warning");case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 2:case"end":return n.stop()}}),n)}))),I.apply(this,arguments)}(0,m.useEffect)((function(){function n(){return(n=(0,o.Z)(a().mark((function n(){var e,r,t,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.hJ)(x.db,"posts"),r=N?(0,p.IO)(e,(0,p.ar)("title",">=",N),(0,p.ar)("title","<=",N+"utf8")):(0,p.IO)(e,(0,p.b9)(10)),n.next=4,(0,p.PL)(r);case 4:t=n.sent,o=t.docs[t.docs.length-1],(0,p.cf)(e,(function(n){A(n.size)})),(0,p.cf)(r,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),c(e)})),P(o);case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[N]);var _=function(n){switch(n){case k.cf.APPROVED:return(0,y.jsx)(u.O,{type:"success",children:"Approved"});case k.cf.PENDING:return(0,y.jsx)(u.O,{type:"warning",children:"Pending"});case k.cf.REJECTED:return(0,y.jsx)(u.O,{type:"danger",children:"Rejected"})}},F=(0,v.debounce)((function(n){C(n.target.value)}),250),W=function(){var n=(0,o.Z)(a().mark((function n(){var e,o,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,p.IO)((0,p.hJ)(x.db,"posts"),(0,p.TQ)(S||0),(0,p.b9)(10)),(0,p.cf)(e,(function(n){var e=[];n.forEach((function(n){e.push((0,i.Z)({id:n.id},n.data()))})),c([].concat((0,t.Z)(r),e))})),n.next=4,(0,p.PL)(e);case 4:o=n.sent,s=o.docs[o.docs.length-1],P(s);case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(g.Z,{title:"All posts",desc:"Manage all posts"}),(0,y.jsx)("div",{className:"flex justify-end gap-5 mb-10",children:(0,y.jsx)("div",{className:"w-full max-w-[300px]",children:(0,y.jsx)("input",{type:"text",className:"w-full p-4 border border-gray-300 border-solid rounded-lg",placeholder:"Search post...",onChange:F})})}),(0,y.jsxs)(h.i,{children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"Id"}),(0,y.jsx)("th",{children:"Post"}),(0,y.jsx)("th",{children:"Category"}),(0,y.jsx)("th",{children:"Author"}),(0,y.jsx)("th",{children:"Status"}),(0,y.jsx)("th",{children:"Actions"})]})}),(0,y.jsx)("tbody",{children:r.length>0&&r.map((function(n){var e,r,t,i,o,s=null!==n&&void 0!==n&&null!==(e=n.createdAt)&&void 0!==e&&e.seconds?new Date(1e3*(null===n||void 0===n||null===(r=n.createdAt)||void 0===r?void 0:r.seconds)):new Date,c=new Date(s).toLocaleDateString("vi-VI");return(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:(null===(t=n.id)||void 0===t?void 0:t.slice(0,5))+"..."}),(0,y.jsx)("td",{className:"!pr-[100px]",children:(0,y.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,y.jsx)("img",{src:n.image,alt:"",className:"w-[66px] h-[55px] rounded object-cover"}),(0,y.jsxs)("div",{className:"flex-1",children:[(0,y.jsx)("h3",{className:"font-semibold",children:n.title}),(0,y.jsxs)("time",{className:"text-sm text-gray-500",children:["Date: ",c]})]})]})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"text-gray-500",children:null===(i=n.category)||void 0===i?void 0:i.name})}),(0,y.jsx)("td",{children:(0,y.jsx)("span",{className:"text-gray-500",children:null===(o=n.user)||void 0===o?void 0:o.username})}),(0,y.jsx)("td",{children:_(n.status)}),(0,y.jsx)("td",{children:(0,y.jsxs)("div",{className:"flex items-center text-gray-500 gap-x-3",children:[(0,y.jsx)(d.kl,{onClick:function(){return E("/".concat(n.slug))}}),(0,y.jsx)(d.yd,{onClick:function(){return E("/manage/update-post?id=".concat(n.id))}}),(0,y.jsx)(d.nO,{onClick:function(){return function(n){return I.apply(this,arguments)}(n.id)}})]})})]},n.id)}))})]}),O>r.length&&(0,y.jsx)("div",{className:"mt-10 text-center",children:(0,y.jsx)(l.z,{className:"mx-auto w-[200px]",onClick:W,children:"Load more"})})]})}}}]);
//# sourceMappingURL=376.0481feee.chunk.js.map